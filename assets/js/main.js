var app={notHandheld:"not-handheld",init:function(){this.detectHandheld(),app.Triggers.init(),app.Slider.init(),app.Form.init()},detectHandheld:function(){app.isMobile.any()&&document.body.classList.remove(this.notHandheld)},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},insertAfter:function(a,b){b.parentNode.insertBefore(a,b.nextSibling)}};app.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return app.isMobile.Android()||app.isMobile.BlackBerry()||app.isMobile.iOS()||app.isMobile.Opera()||app.isMobile.Windows()}},app.Triggers={activeTrigger:"active-trigger",init:function(){this.activeTriggers()},activeTriggers:function(){var a=document.getElementsByClassName(this.activeTrigger);for(i=0;i<a.length;i++)a[i].addEventListener("click",function(a){var b=document.getElementById(this.dataset.active);b.classList.toggle("active"),this.classList.toggle("active"),a.preventDefault()})}},app.Slider={slider:"slider",navDots:"nav-dots",navDot:"nav-dot",active:"active",data:"data-link",init:function(){this.intitSliders()},intitSliders:function(){for(var a=document.getElementsByClassName(this.slider),b=0;b<a.length;b++){var c=a[b],d=c.children[0].children,e=d.length;e>1&&(this.setSlidePosition(d),this.createDots(e,c),this.dotClick())}},createDots:function(a,b){var c=document.createElement("ul");c.className=this.navDots;for(var d=0;d<a;d++){var e=document.createElement("li");e.className=this.navDot,e.setAttribute(this.data,[d]),c.appendChild(e)}b.appendChild(c),this.highlightFirstDot(c)},highlightFirstDot:function(a){a.firstChild.classList.add(this.active)},dotClick:function(){var a=document.getElementsByClassName(this.navDot);for(i=0;i<a.length;i++)a[i].addEventListener("click",function(){app.hasClass(this,"active")||(app.Slider.switchSlide(this),app.Slider.changeDot(this),this.classList.add("active"))})},changeDot:function(a){var b=a.parentElement.children;this.removeActive(b)},removeActive:function(a){for(i=0;i<a.length;i++)a[i].classList.remove(this.active)},setSlidePosition:function(a){for(i=0;i<a.length;i++)a[i].setAttribute(this.data,[i])},switchSlide:function(a){var b=a.parentElement.parentElement.children[0].children,c=a.dataset.link;for(this.hideSlides(b),i=0;i<b.length;i++)b[i].dataset.link==c&&b[i].classList.add(this.active)},hideSlides:function(a){this.removeActive(a)}},app.Form={form:"form",required:"required",validError:"validation-error",validMessage:"validation-message",reqFieldError:"This field is mandatory",nameError:"Name must be 2-32 chars long and contain A-z letters",phoneError:"Phone must be 6-12 chars long and be numeric",emailError:"Please enter a valid email",loadingClass:"loading",ajaxMessageCls:"ajax-respond",ajaxSuccess:"Yay! Data send!",ajaxError:"Whoops, looks like something went wrong!",init:function(){this.formSubmit()},formSubmit:function(){var a,b=document.querySelectorAll("input[type=submit]");for(i=0;i<b.length;i++)b[i].addEventListener("click",function(b){a=this.parentElement,app.Form.validate(a)&&app.Form.sendRequest(a),b.preventDefault()})},validate:function(a){var b,c=a.getElementsByClassName(this.required),d=a.getElementsByClassName(this.validError);for(i=0;i<c.length;i++)b=c[i],this.checkEmptyValue(b),this.checkName(b),this.checkPhone(b),this.checkEmail(b);if(0==d.length)return!0},checkEmptyValue:function(a){""==a.value?this.addEmptyValueError(a):this.removeEmptyValueError(a)},checkName:function(a){var b="name",c=/[A-z]{2,32}/,d=this.nameError;this.validateField(a,b,c,d)},checkPhone:function(a){var b="phone",c=/^\d{6,12}$/,d=this.phoneError;this.validateField(a,b,c,d)},checkEmail:function(a){var b="email",c=/[^\s@]+@[^\s@]+\.[^\s@]+/,d=this.emailError;this.validateField(a,b,c,d)},validateField:function(a,b,c,d){if(a.getAttribute("name")==b){var e=a.value,f=a.nextElementSibling.classList.contains(this.validMessage);null==e.match(c)?f||(this.addErrorContainer(a,d),a.classList.add(this.validError)):f&&(this.removeErrorContainer(a,d),a.classList.remove(this.validError))}},createMessageContainer:function(){var a=document.createElement("label");return a.className="message",a},addErrorContainer:function(a,b){this.messageAdded=!0;var c=a.getAttribute("ID"),d=this.createMessageContainer();d.innerHTML=b,d.setAttribute("for",c),d.classList.add(this.validMessage),app.insertAfter(d,a)},removeErrorContainer:function(a){this.messageAdded=!1;var b=a.parentElement;b.removeChild(a.nextSibling),a.classList.remove(this.validError)},addEmptyValueError:function(a){a.setAttribute("placeholder",this.reqFieldError)},removeEmptyValueError:function(a){a.removeAttribute("placeholder")},ajaxMessage:function(){var a=this.createMessageContainer();return a.classList.add(this.ajaxMessageCls),a},showAjaxRespond:function(a,b){var c=app.Form.ajaxMessage();c.innerHTML=b,a.appendChild(c),setTimeout(function(){a.removeChild(c)},3e3)},prepareData:function(a){for(var b=a.elements,c=[],d=0;d<b.length;d++)b[d].getAttribute("name")&&(field=b[d].getAttribute("name")+"="+b[d].value,c[d]=field);return c=c.join("&"),c=c.slice(1,c.length)},sendRequest:function(a){a.classList.add(app.Form.loadingClass);var b=new XMLHttpRequest,c=app.Form.prepareData(a);b.onreadystatechange=function(){b.readyState==XMLHttpRequest.DONE&&(a.classList.remove(app.Form.loadingClass),200==b.status?(app.Form.showAjaxRespond(a,app.Form.ajaxSuccess),a.reset()):messageText=app.Form.showAjaxRespond(a,app.Form.ajaxError))},b.open(a.getAttribute("method"),a.getAttribute("action")),b.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),b.send(c)}},window.onload=function(){app.init()};